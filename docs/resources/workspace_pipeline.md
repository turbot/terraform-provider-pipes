---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "pipes_workspace_pipeline Resource - terraform-provider-pipes"
subcategory: ""
description: |-
  The `Turbot Pipes Workspace Pipeline` represents pipelines configured in a workspace.
---

# Resource: pipes_workspace_pipeline

Manages a workspace pipeline.

## Example Usage

**Create a user workspace pipeline**

```hcl
resource "pipes_workspace" "test_user_workspace" {
  handle = "dev"
}

resource "pipes_workspace_pipeline" "daily_cis_pipeline" {
  workspace_handle = pipes_workspace.test_user_workspace.handle
  title = "Daily CIS Job"
  pipeline = "pipeline.save_snapshot"
  frequency = jsonencode({
    "type": "interval",
    "schedule": "daily"
  })
  args = jsonencode({
    "resource": "aws_compliance.benchmark.cis_v140",
    "snapshot_tags": {
      "series": "daily_cis"
    },
    "visibility": "workspace",
    "inputs": {},
    "notifications": {},
    "variables": {}
  })
  tags = jsonencode({
	  "name": "daily_cis_pipeline"
	})
}
```

**Create an organization workspace pipeline**

```hcl
resource "pipes_workspace" "test_org_workspace" {
  organization = "testorg"
  handle       = "dev"
}

resource "pipes_workspace_pipeline" "daily_cis_pipeline" {
  organization = pipes_workspace.test_org_workspace.organization
  workspace_handle = pipes_workspace.test_org_workspace.handle
  title = "Daily CIS Job"
  pipeline = "pipeline.save_snapshot"
  frequency = jsonencode({
    "type": "interval",
    "schedule": "daily"
  })
  args = jsonencode({
    "resource": "aws_compliance.benchmark.cis_v140",
    "snapshot_tags": {
      "series": "daily_cis"
    },
    "visibility": "workspace",
    "inputs": {},
    "notifications": {},
    "variables": {}
  })
  tags = jsonencode({
	  "name": "daily_cis_pipeline"
	})
}
```

## Argument Reference

The following arguments are supported:

- `args` - (Required) The JSON-encoded set of arguments to be used for a pipeline run. Use `jsonencode` on a terraform type to ensure correct escaping e.g. `jsonencode({"resource": "aws_compliance.benchmark.cis_v140", "inputs": {}, "snapshot_tags": {"series": "daily_cis"}})`
- `frequency` - (Required) The JSON-encoded frequency at which the pipeline will run. Use `jsonencode` on a terraform type to ensure correct escaping e.g. `jsonencode({"type": "interval", "schedule": "daily"})`
- `pipeline` - (Required) The name of the pipeline to be executed. Can either be `pipeline.snapshot_dashboard` or `pipeline.snapshot_query`.
- `title` - (Required) The title of the pipeline to be created.
- `workspace` - (Required) The handle of the workspace to manage the pipeline for.
- `desired_state` - (Optional) The desired state of the pipeline, which can be set only after it has already been created. Valid values are `enabled` and `disabled`.
- `organization` - (Optional) The optional handle of the organization to be used when the pipeline to be managed belongs to an organization.
- `tags` - (Optional) The JSON-encoded string of tags for the pipeline. Use `jsonencode` on a terraform type to ensure correct escaping e.g. `jsonencode({Foo: "Bar"})`

## Attributes Reference

In addition to all arguments above, the following attributes are exported:

- `args` - The arguments to be use to execute the pipeline.
- `created_at` - The ISO 8601 date & time the pipeline was created at.
- `created_by` - The unique identifier of the actor that created this pipeline.
- `frequency` - The interval at which a pipeline will run.
- `last_process_id` - The unique identifier of the last process that was executed for the pipeline.
- `organization` - A human-friendly alias of the organization in which the pipeline exists.
- `pipeline` - The name of the pipeline to be executed.
- `state` - The current state of the pipeline.
- `state_reason` - The reason for the current state of the pipeline.
- `tags` - The tags for the pipeline.
- `title` - The title of the pipeline.
- `updated_at` - The ISO 8601 date & time the pipeline was last updated at.
- `updated_by` - The unique identifier of the actor that last updated this pipeline.
- `version_id` - The version ID of the pipeline.
- `workspace` - A human-friendly alias of the workspace in which the pipeline exists.
- `workspace_id` - The unique identifier of the workspace in which the pipeline exists.
- `workspace_pipeline_id` - The unique identifier of the pipeline.

## Import

### Import User Workspace Pipeline

User workspace pipelines can be imported using an ID made up of `workspace/pipeline_id`, e.g.,

```sh
terraform import pipes_workspace_pipeline.example dev/pipe_cfbv52fm1tuo1pqt84t0
```

### Import Organization Workspace Pipeline

Organization workspace pipelines can be imported using an ID made up of `organization/workspace/pipeline_id`, e.g.,

```sh
terraform import pipes_workspace_pipeline.example myorg/dev/pipe_cfbv52fm1tuo1pqt84t0
```
