---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "pipes_workspace_schema Resource - terraform-provider-pipes"
subcategory: ""
description: |-
  Provides a Pipes Workspace Schema resource. Workspace schema represents a set of tables for a data source. Schemas can be connections, aggregator or datatanks. This resource allows you to attach / detach connections / aggregators to / from a workspace thus adding / removing queryable schemas from your steampipe database in the workspace.
---

# Resource: pipes_workspace_schema

Manages a schema in a workspace.

## Note

From `0.14.0` version of the provider we have migrated `pipes_workspace_connection` resources to `pipes_workspace_schema`. Please follow the `migrating.md` document for further details.

## Example Usage

**Attach a connection to a workspace in an organization**

```hcl
resource "pipes_workspace_schema" "aws_schema" {
	organization      = "acme"
	workspace 	      = "devops"
	connection_handle = "aws"
}
```

**Attach a connection folder to a workspace in an organization**

```hcl
resource "pipes_workspace_schema" "aws_schema" {
	organization      = "acme"
	workspace 	      = "devops"
	connection_folder_id = "c_cqlp0647sic7l5q2n5d0"
}
```

**Attach an aggregator to a workspace in an organization**

```hcl
resource "pipes_workspace_schema" "aws_schema" {
	organization      = "acme"
	workspace 	      = "devops"
	aggregator_handle = "aws_aggregator"
}
```

## Argument Reference

The following arguments are supported:

- `workspace` - (Required) The handle of the workspace where the schema will be managed.
- `aggregator_handle` - (Optional) Handle of the aggregator which will be attached to the workspace.
- `connection_folder_id` - (Optional) ID of the connection folder which will be attached to the workspace. Note that attaching a folder will attach all connections in the folder to the workspace.
- `connection_handle` - (Optional) Handle of the connection which will be attached to the workspace.
- `organization` - (Optional) The handle of the organization which contains the workspace.

## Attributes Reference

In addition to all arguments above, the following attributes are exported:

- `aggregator_id` - Unique identifier of the aggregator.
- `connection_id` - Unique identifier of the connection.
- `created_at` - The time when the connection was created.
- `created_by` - The handle of the user who created the connection.
- `identity_id` - Unique identifier of the identity which contains the workspace.
- `name` - Name of the schema.
- `type` - Type of the schema. Can be one of `connection`, `connection-folder`, `connection-discovered`, `connection-folder-discovered`, `aggregator`, `datatank`.
- `updated_at` - The time when the connection was last updated.
- `updated_by` - The handle of the user who last updated the connection.
- `version_id` - The connection version.
- `workspace_id` - Unique identifier of the workspace where the connection exists.
- `workspace_schema_id` - Unique identifier of the schema record.

## Import

### Import User Workspace Schema

User workspace schemas can be imported with an ID made up of `workspace_handle/schema_name`, e.g.,

```sh
terraform import pipes_workspace_schema.example devops/aws_aaa
```

### Import Organization Workspace Schema

Organization workspce schemas can be imported with an ID made up of `organization_handle/workspace_handle/schema_name`, e.g.,

```sh
terraform import pipes_workspace_schema.example acme/devops/aws_aaa
```
